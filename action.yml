name: 'Slack Release Notifier'
description:
  'Send release notifications to Slack with intelligent breaking change
  detection and persistent Canvas lists'
author: 'sdan'

# Define your inputs here.
inputs:
  slack-bot-token:
    description: 'Slack bot token (starts with xoxb-)'
    required: true
  slack-channel:
    description: 'Slack channel to post to (default: C090TACJ9KN)'
    required: false
    default: 'C090TACJ9KN' # #feed_agglayer-notifier
  custom-message:
    description: 'Custom message to include in the notification'
    required: false
  maintain-releases-list:
    description:
      'Whether to maintain a persistent Canvas with all releases in the channel
      (requires canvases:write permission)'
    required: false
    default: 'true'

outputs:
  notification-sent:
    description: 'Whether the notification was sent successfully'
  timestamp:
    description: 'Timestamp when the notification was sent'
  channel:
    description: 'Channel where the notification was sent'
  releases-list-updated:
    description: 'Whether the releases Canvas was updated (if enabled)'

runs:
  using: 'node20'
  main: 'dist/index.js'
